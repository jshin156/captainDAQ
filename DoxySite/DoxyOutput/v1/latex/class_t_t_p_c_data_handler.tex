\hypertarget{class_t_t_p_c_data_handler}{\section{T\+T\+P\+C\+Data\+Handler Class Reference}
\label{class_t_t_p_c_data_handler}\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
}


class to assemble T\+P\+C run data, calculate noise R\+M\+S, and map onto the wire planes  




{\ttfamily \#include $<$T\+T\+P\+C\+Data\+Handler.\+h$>$}

Inheritance diagram for T\+T\+P\+C\+Data\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_t_p_c_data_handler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_t_t_p_c_data_handler_a65054f0c9a7335a2305de5b63bb84e29}{T\+T\+P\+C\+Data\+Handler} (const std\+::string \&k\+Log\+Path, const std\+::string \&k\+Runs\+Directory, const unsigned k\+First\+Run, const unsigned k\+Last\+Run)
\item 
float \hyperlink{class_t_t_p_c_data_handler_a20538b2bfdb076b6e75bf768d3443f3f}{Compute\+Wire\+Mean\+Voltage} (const unsigned short ki\+Plane, const unsigned short ki\+Wire) const 
\begin{DoxyCompactList}\small\item\em compute the mean sample value on the wire i\+Wire \end{DoxyCompactList}\item 
float \hyperlink{class_t_t_p_c_data_handler_a184f9c2fc4e0cd82cb175624e3e89aaf}{Compute\+Plane\+Collection\+Mean\+Voltage} (const unsigned short ki\+Plane, const unsigned short ki\+Collection) const 
\begin{DoxyCompactList}\small\item\em compute the mean sample value of the entire plane ki\+Plane for collection ki\+Collection \end{DoxyCompactList}\item 
Wires\+R\+M\+S \hyperlink{class_t_t_p_c_data_handler_a0d312c907232f89d96f96ef4dce4a25c}{Get\+Wires\+R\+M\+S} () const 
\item 
A\+S\+I\+Cs\+Mean\+R\+M\+S \hyperlink{class_t_t_p_c_data_handler_a19588e4052efb2c1906384ebf8bad219}{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S} () const 
\begin{DoxyCompactList}\small\item\em Get the mean R\+M\+S for each A\+S\+I\+C. \end{DoxyCompactList}\item 
Planes\+Data \hyperlink{class_t_t_p_c_data_handler_aa6366249487ef9fc7cd704da7a0fb11f}{Get\+Planes\+Data} () const 
\begin{DoxyCompactList}\small\item\em get all wire plane voltage data \end{DoxyCompactList}\item 
std\+::string \hyperlink{class_t_t_p_c_data_handler_a5e2bb6358b967f29aa1e5e72e286df4a}{Write\+Planes\+Data} (const std\+::string \&k\+R\+O\+O\+T\+Filename) const 
\item 
T\+Canvas \hyperlink{class_t_t_p_c_data_handler_a9d6593f7367185252aaac9ad0290c8f7}{Get\+Voltage\+Histogram} () const 
\begin{DoxyCompactList}\small\item\em constructs a voltage map for each wire plane \end{DoxyCompactList}\item 
T\+H1\+D \hyperlink{class_t_t_p_c_data_handler_acba4e4d412a5c6b86684ecef640c663c}{Get\+Wires\+R\+M\+S\+Histogram} () const 
\begin{DoxyCompactList}\small\item\em constructs a histogram plotting noise R\+M\+S voltage by wire \end{DoxyCompactList}\item 
T\+H1\+D \hyperlink{class_t_t_p_c_data_handler_a73a4c890154ff9da105a8606630c7500}{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram} () const 
\begin{DoxyCompactList}\small\item\em constructs a histogram plotting mean noise R\+M\+S voltage by A\+S\+I\+C \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
class to assemble T\+P\+C run data, calculate noise R\+M\+S, and map onto the wire planes 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_t_t_p_c_data_handler_a65054f0c9a7335a2305de5b63bb84e29}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{T\+T\+P\+C\+Data\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}T\+T\+P\+C\+Data\+Handler\+::\+T\+T\+P\+C\+Data\+Handler (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{k\+Log\+Path, }
\item[{const std\+::string \&}]{k\+Runs\+Directory, }
\item[{const unsigned}]{k\+First\+Run, }
\item[{const unsigned}]{k\+Last\+Run}
\end{DoxyParamCaption}
)}}\label{class_t_t_p_c_data_handler_a65054f0c9a7335a2305de5b63bb84e29}
given the path to a log file k\+Log\+Path and the run numbers of the first and last run to be included from this run, k\+First\+Run and k\+Last\+Run, construct a \hyperlink{class_t_t_p_c_data_handler}{T\+T\+P\+C\+Data\+Handler}.

log files should be plaintext formatted as follows\+:

run\+Number; line\+Driver\+Port\+Number1, line\+Driver\+Port\+Number2, ... \# comment \subsection*{comment}

\subsection{Member Function Documentation}
\hypertarget{class_t_t_p_c_data_handler_a184f9c2fc4e0cd82cb175624e3e89aaf}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Compute\+Plane\+Collection\+Mean\+Voltage@{Compute\+Plane\+Collection\+Mean\+Voltage}}
\index{Compute\+Plane\+Collection\+Mean\+Voltage@{Compute\+Plane\+Collection\+Mean\+Voltage}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Compute\+Plane\+Collection\+Mean\+Voltage}]{\setlength{\rightskip}{0pt plus 5cm}float T\+T\+P\+C\+Data\+Handler\+::\+Compute\+Plane\+Collection\+Mean\+Voltage (
\begin{DoxyParamCaption}
\item[{const unsigned short}]{ki\+Plane, }
\item[{const unsigned short}]{ki\+Collection}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a184f9c2fc4e0cd82cb175624e3e89aaf}


compute the mean sample value of the entire plane ki\+Plane for collection ki\+Collection 

\hypertarget{class_t_t_p_c_data_handler_a20538b2bfdb076b6e75bf768d3443f3f}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Compute\+Wire\+Mean\+Voltage@{Compute\+Wire\+Mean\+Voltage}}
\index{Compute\+Wire\+Mean\+Voltage@{Compute\+Wire\+Mean\+Voltage}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Compute\+Wire\+Mean\+Voltage}]{\setlength{\rightskip}{0pt plus 5cm}float T\+T\+P\+C\+Data\+Handler\+::\+Compute\+Wire\+Mean\+Voltage (
\begin{DoxyParamCaption}
\item[{const unsigned short}]{ki\+Plane, }
\item[{const unsigned short}]{ki\+Wire}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a20538b2bfdb076b6e75bf768d3443f3f}


compute the mean sample value on the wire i\+Wire 

\hypertarget{class_t_t_p_c_data_handler_a19588e4052efb2c1906384ebf8bad219}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S@{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S}}
\index{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S@{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S}]{\setlength{\rightskip}{0pt plus 5cm}T\+T\+P\+C\+Data\+Handler\+::\+A\+S\+I\+Cs\+Mean\+R\+M\+S T\+T\+P\+C\+Data\+Handler\+::\+Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a19588e4052efb2c1906384ebf8bad219}


Get the mean R\+M\+S for each A\+S\+I\+C. 

\hypertarget{class_t_t_p_c_data_handler_a73a4c890154ff9da105a8606630c7500}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram@{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram}}
\index{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram@{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram}]{\setlength{\rightskip}{0pt plus 5cm}T\+H1\+D T\+T\+P\+C\+Data\+Handler\+::\+Get\+A\+S\+I\+Cs\+Mean\+R\+M\+S\+Histogram (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a73a4c890154ff9da105a8606630c7500}


constructs a histogram plotting mean noise R\+M\+S voltage by A\+S\+I\+C 

\hypertarget{class_t_t_p_c_data_handler_aa6366249487ef9fc7cd704da7a0fb11f}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Get\+Planes\+Data@{Get\+Planes\+Data}}
\index{Get\+Planes\+Data@{Get\+Planes\+Data}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Get\+Planes\+Data}]{\setlength{\rightskip}{0pt plus 5cm}Planes\+Data T\+T\+P\+C\+Data\+Handler\+::\+Get\+Planes\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_aa6366249487ef9fc7cd704da7a0fb11f}


get all wire plane voltage data 

\hypertarget{class_t_t_p_c_data_handler_a9d6593f7367185252aaac9ad0290c8f7}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Get\+Voltage\+Histogram@{Get\+Voltage\+Histogram}}
\index{Get\+Voltage\+Histogram@{Get\+Voltage\+Histogram}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Get\+Voltage\+Histogram}]{\setlength{\rightskip}{0pt plus 5cm}T\+Canvas T\+T\+P\+C\+Data\+Handler\+::\+Get\+Voltage\+Histogram (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a9d6593f7367185252aaac9ad0290c8f7}


constructs a voltage map for each wire plane 

\hypertarget{class_t_t_p_c_data_handler_a0d312c907232f89d96f96ef4dce4a25c}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Get\+Wires\+R\+M\+S@{Get\+Wires\+R\+M\+S}}
\index{Get\+Wires\+R\+M\+S@{Get\+Wires\+R\+M\+S}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Get\+Wires\+R\+M\+S}]{\setlength{\rightskip}{0pt plus 5cm}T\+T\+P\+C\+Data\+Handler\+::\+Wires\+R\+M\+S T\+T\+P\+C\+Data\+Handler\+::\+Get\+Wires\+R\+M\+S (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a0d312c907232f89d96f96ef4dce4a25c}
Calculate the voltage noise R\+M\+S for all wires. This makes two passes\+: one pass calculates an initial voltage pedestal (mean0) and noise R\+M\+S (R\+M\+S0). The second pass recalculates a new pedestal (mean1) and R\+M\+S (R\+M\+S1) excluding bins deviating by more than 3$\ast$\+R\+M\+S0 from mean0. R\+M\+S1 is the final result. \hypertarget{class_t_t_p_c_data_handler_acba4e4d412a5c6b86684ecef640c663c}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Get\+Wires\+R\+M\+S\+Histogram@{Get\+Wires\+R\+M\+S\+Histogram}}
\index{Get\+Wires\+R\+M\+S\+Histogram@{Get\+Wires\+R\+M\+S\+Histogram}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Get\+Wires\+R\+M\+S\+Histogram}]{\setlength{\rightskip}{0pt plus 5cm}T\+H1\+D T\+T\+P\+C\+Data\+Handler\+::\+Get\+Wires\+R\+M\+S\+Histogram (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_acba4e4d412a5c6b86684ecef640c663c}


constructs a histogram plotting noise R\+M\+S voltage by wire 

\hypertarget{class_t_t_p_c_data_handler_a5e2bb6358b967f29aa1e5e72e286df4a}{\index{T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}!Write\+Planes\+Data@{Write\+Planes\+Data}}
\index{Write\+Planes\+Data@{Write\+Planes\+Data}!T\+T\+P\+C\+Data\+Handler@{T\+T\+P\+C\+Data\+Handler}}
\subsubsection[{Write\+Planes\+Data}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string T\+T\+P\+C\+Data\+Handler\+::\+Write\+Planes\+Data (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{k\+R\+O\+O\+T\+Filename}
\end{DoxyParamCaption}
) const}}\label{class_t_t_p_c_data_handler_a5e2bb6358b967f29aa1e5e72e286df4a}
write out all data for all wire planes to a R\+O\+O\+T file, grouped by collection number, an arbitrary association when planes are split across multiple runs. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/captain\+Diagnostic/plot\+Planes/\hyperlink{_t_t_p_c_data_handler_8h}{T\+T\+P\+C\+Data\+Handler.\+h}\item 
src/captain\+Diagnostic/plot\+Planes/\hyperlink{_t_t_p_c_data_handler_8cpp}{T\+T\+P\+C\+Data\+Handler.\+cpp}\end{DoxyCompactItemize}
